# –ê–Ω–∞–ª–∏–∑ Multi-Tenancy - LearnFlow AI

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

–î–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ multi-tenancy –≤ LearnFlow AI. –ê–Ω–∞–ª–∏–∑ –≤—ã—è–≤–∏–ª **—á–∞—Å—Ç–∏—á–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é** –∏–∑–æ–ª—è—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö —Å–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ multi-tenant —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

**–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ù–ê–•–û–î–ö–ê**: –•–æ—Ç—è Telegram –±–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É—è `user_id` –≤ –∫–∞—á–µ—Å—Ç–≤–µ `thread_id`, –±–∞–∑–æ–≤—ã–π API artifacts-service –ù–ï –∏–º–µ–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –õ–Æ–ë–û–ì–û –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—è API endpoints.

## –û–±–∑–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ)

1. **–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π LangGraph**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `learnflow/core/graph_manager.py`
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `thread_id` –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
   - –ú–µ—Ö–∞–Ω–∏–∑–º –∏–∑–æ–ª—è—Ü–∏–∏: PostgreSQL checkpointer —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ thread
   - –°—Ç–∞—Ç—É—Å: **–ö–û–†–†–ï–ö–¢–ù–û –ò–ó–û–õ–ò–†–û–í–ê–ù–û** - –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤

2. **–°–µ—Ä–≤–∏—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `prompt-config-service/`
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `user_id` (Telegram ID) –∫–∞–∫ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
   - –ú–æ–¥–µ–ª—å –ë–î: –¢–∞–±–ª–∏—Ü—ã `UserProfile` –∏ `UserPlaceholderSetting`
   - –°—Ç–∞—Ç—É—Å: **–ö–û–†–†–ï–ö–¢–ù–û –ò–ó–û–õ–ò–†–û–í–ê–ù–û** - –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–º–ø—Ç–æ–≤

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ HITL (Human-in-the-Loop)**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `learnflow/services/hitl_manager.py`
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ thread_id
   - –°—Ç–∞—Ç—É—Å: **–ö–û–†–†–ï–ö–¢–ù–û –ò–ó–û–õ–ò–†–û–í–ê–ù–û** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è HITL –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

4. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `data/artifacts/{thread_id}/`
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ thread_id
   - –°—Ç–∞—Ç—É—Å: **–ö–û–†–†–ï–ö–¢–ù–û –ò–ó–û–õ–ò–†–û–í–ê–ù–û** - –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ thread –∏ —Å–µ—Å—Å–∏—è–º–∏**
   - –¢–µ–∫—É—â–µ–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `user_id` –∫–∞–∫ `thread_id` (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ 1:1)
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: LearnFlow —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ `session_id` –¥–ª—è –∫–∞–∂–¥–æ–π —É—á–µ–±–Ω–æ–π —Ç–µ–º—ã
   - –õ–æ–≥–∏–∫–∞: –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç–µ–º—ã thread –æ—á–∏—â–∞–µ—Ç—Å—è, –Ω–æ–≤–∞—è —Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Å—Å–∏–∏)
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Å–µ—Å—Å–∏–∏ (–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–µ–º–∞–º–∏)
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `learnflow/services/artifacts_manager.py:239`, `bot/services/api_client.py`

### ‚ùå –ù–ï –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ (–æ–±—â–µ–µ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

1. **API Artifacts Service**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `artifacts-service/main.py`
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
     - Endpoint `/threads` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –í–°–ï threads –æ—Ç –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
     - `/threads/{thread_id}` –¥–æ—Å—Ç—É–ø–µ–Ω –õ–Æ–ë–û–ú–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –∑–Ω–∞—é—â–µ–º—É thread_id
     - –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
     - `/users/{user_id}/sessions/recent` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–µ—Å—Å–∏–∏, –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—Å–º. —Å—Ç—Ä–æ–∫—É 346: "For now, we'll return all recent sessions")

2. **–°–µ—Ä–≤–∏—Å Web-UI**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `web-ui/src/services/ApiClient.ts`
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
     - `getThreads()` –ø–æ–ª—É—á–∞–µ—Ç –í–°–ï threads –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
     - –ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
     - –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ª—é–±–æ–≥–æ thread
     - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –ª—é–±–æ–≥–æ thread

3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞**
   - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `bot/handlers/export_handlers.py`, `artifacts-service/main.py`
   - **–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
     - –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `thread_id = str(user_id)` (—Å—Ç—Ä–æ–∫–∞ 145 –≤ export_handlers.py)
     - –ë–æ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç API artifacts-service: `GET /threads/{thread_id}/sessions/{session_id}/export/package`
     - **–õ–û–ñ–ù–ê–Ø –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨**: –•–æ—Ç—è –±–æ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç user_id, –±–∞–∑–æ–≤—ã–π API –ù–ï –∏–º–µ–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞
   - **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å:**
     - –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∑–Ω–∞—é—â–∏–π Telegram ID –¥—Ä—É–≥–æ–≥–æ, –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑–≤–∞—Ç—å API –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
     - –ü—Ä–∏–º–µ—Ä: `curl http://localhost:8001/threads/979557959/sessions/.../export/package`
   - –ü—Ä–æ–±–ª–µ–º—ã:
     - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (—Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ)
     - –ù–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞
     - Endpoint recent sessions –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Å—Å–∏–∏ –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏

### 1. **–†–∏—Å–∫ —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö** üî¥
–õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–æ–ª—É—á–∏–≤—à–∏–π –¥–æ—Å—Ç—É–ø –∫ web-ui, –º–æ–∂–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
- –°–∫–∞—á–∏–≤–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–∑–º–µ–Ω—è—Ç—å —Ñ–∞–π–ª—ã, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ –¥—Ä—É–≥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞** üî¥
- –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ artifacts-service
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º
- Thread ID –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã (—Ä–∞–≤–Ω—ã Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ API –æ–±—Ö–æ–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–æ—Ç–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—Ç—å endpoints artifacts-service

### 3. **–£—è–∑–≤–∏–º–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞** üî¥
**–°—Ü–µ–Ω–∞—Ä–∏–π: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
```bash
# –ü—Ä–∏–º–µ—Ä –≤–µ–∫—Ç–æ—Ä–∞ –∞—Ç–∞–∫–∏:
# 1. –ê—Ç–∞–∫—É—é—â–∏–π –∑–Ω–∞–µ—Ç Telegram ID –∂–µ—Ä—Ç–≤—ã: 979557959
# 2. –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API –æ–±—Ö–æ–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–æ—Ç–∞:
curl http://localhost:8001/threads/979557959/sessions/session-20241229_143022/export/package
# 3. –ü–æ–ª—É—á–∞–µ—Ç ZIP —Å–æ –≤—Å–µ–º–∏ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∂–µ—Ä—Ç–≤—ã

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—è endpoint recent sessions:
curl http://localhost:8001/users/ANY_ID/sessions/recent
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Å—Å–∏–∏ –æ—Ç –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É—è –ø–æ user_id
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- Telegram –±–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –ª–æ–∂–Ω–æ–µ –æ—â—É—â–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É—è `thread_id = user_id`
- –ù–æ artifacts-service –ù–ï –∏–º–µ–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- –õ—é–±–æ–π –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å API –Ω–∞–ø—Ä—è–º—É—é, –æ–±—Ö–æ–¥—è –±–æ—Ç–∞

## –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è Multi-Tenancy

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∫—Ä–∏—Ç–∏—á–Ω–æ)

1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é**
   - –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –∫–ª—é—á–∞ –±–æ—Ç–∞ –∏–ª–∏ JWT —Ç–æ–∫–µ–Ω–∞
   - –ò–∑–≤–ª–µ–∫–∞—Ç—å user_id –∏–∑ —Ç–æ–∫–µ–Ω–∞/–∑–∞–≥–æ–ª–æ–≤–∫–∞
   - –í—Å–µ endpoints –¥–æ–ª–∂–Ω—ã —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å endpoint —ç–∫—Å–ø–æ—Ä—Ç–∞**
   ```python
   # –¢–µ–∫—É—â–∏–π –£–Ø–ó–í–ò–ú–´–ô –∫–æ–¥:
   @app.get("/threads/{thread_id}/sessions/{session_id}/export/package")
   async def export_package(thread_id: str, session_id: str, ...):
       # –ù–ï–¢ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –õ–Æ–ë–û–ì–û thread_id!
       
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   @app.get("/threads/{thread_id}/sessions/{session_id}/export/package")
   async def export_package(
       thread_id: str, 
       session_id: str,
       auth: AuthContext = Depends(get_auth_context)
   ):
       # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π thread_id —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å user_id
       if thread_id != auth.user_id:
           raise HTTPException(403, "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω")
   ```

3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å endpoint Recent Sessions**
   ```python
   # –¢–µ–∫—É—â–∏–π –£–Ø–ó–í–ò–ú–´–ô –∫–æ–¥ (—Å—Ç—Ä–æ–∫–∞ 346):
   # "For now, we'll return all recent sessions"
   all_threads = storage.get_threads()  # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç threads –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!
   
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   # –ü–æ—Å–∫–æ–ª—å–∫—É —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω thread (thread_id == user_id),
   # –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∞–µ–º —Å–µ—Å—Å–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   sessions = storage.get_thread_sessions(user_id)  # –°–µ—Å—Å–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ```


### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ Web-UI**
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ –≤—Å–µ—Ö API –≤—ã–∑–æ–≤–∞—Ö
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π


## –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Å—Ö–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –î–≤–∞ —Ç–∏–ø–∞ –¥–æ—Å—Ç—É–ø–∞

1. **Service-to-Service (–±–æ—Ç ‚Üí artifacts-service)**
   ```python
   headers = {
       "X-API-Key": "bot-secret-key",
       "X-User-Id": "979557959"  # Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   }
   ```
   - –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç user_id –∏–∑ Telegram
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å–Ω—ã–π API –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç –æ–± —ç—Ç–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ

2. **User-to-Service (web-ui ‚Üí artifacts-service)**
   ```python
   headers = {
       "Authorization": "Bearer <jwt-token>"
   }
   # JWT —Å–æ–¥–µ—Ä–∂–∏—Ç: {"user_id": "979557959", "username": "user123", "exp": "2024-02-05"}
   ```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ PostgreSQL

**–¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–æ–¥–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:**
```sql
CREATE TABLE auth_codes (
    username VARCHAR(255),
    code VARCHAR(10),
    user_id BIGINT,
    created_at TIMESTAMP DEFAULT NOW(),
    PRIMARY KEY (username, code)
);

-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∏
CREATE INDEX idx_auth_codes_created ON auth_codes(created_at);
```

### –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç web-ui**
   - –í–∏–¥–∏—Ç —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π:
   ```
   –î–ª—è –≤—Ö–æ–¥–∞:
   1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –±–æ—Ç–∞ @LearnFlowBot
   2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /web_auth
   3. –í–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥ –Ω–∏–∂–µ
   ```

2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Telegram:**
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ—Ç—É: `/web_auth`
   - –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç: `–í–∞—à –∫–æ–¥: AB3F7K (–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 5 –º–∏–Ω—É—Ç)`

3. **–ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ PostgreSQL:**
   ```sql
   INSERT INTO auth_codes (username, code, user_id) 
   VALUES ('user123', 'AB3F7K', 979557959);
   ```

4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ web-ui:**
   - –í–≤–æ–¥–∏—Ç username: `@user123`
   - –í–≤–æ–¥–∏—Ç –∫–æ–¥: `AB3F7K`
   - –ù–∞–∂–∏–º–∞–µ—Ç "–í–æ–π—Ç–∏"

5. **Web-UI ‚Üí Artifacts-Service:**
   ```json
   POST /auth/verify
   {
     "username": "user123",
     "code": "AB3F7K"
   }
   ```

6. **Artifacts-Service:**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ –≤ PostgreSQL
   - –£–¥–∞–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç JWT —Ç–æ–∫–µ–Ω
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–∫–µ–Ω –≤ web-ui

7. **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã:**
   - Web-UI —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç JWT –≤ localStorage
   - –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ–¥–µ—Ä–∂–∞—Ç: `Authorization: Bearer <jwt>`

### –ó–∞—â–∏—Ç–∞ endpoints

```python
@app.get("/threads/{thread_id}/sessions/{session_id}/export/package")
async def export_package(
    thread_id: str,
    auth: AuthContext = Depends(get_auth_context)
):
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞
    if thread_id != auth.user_id:
        raise HTTPException(403, "Access denied")
    
    return await export_logic(thread_id, session_id)
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ö–æ–¥—ã**: –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã 5 –º–∏–Ω—É—Ç, —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **JWT**: –°—Ä–æ–∫ –∂–∏–∑–Ω–∏ 7 –¥–Ω–µ–π, —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∏–Ω–∏–º—É–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º**: –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ thread_id == user_id
- **API –∫–ª—é—á–∏**: –î–ª–∏–Ω–Ω—ã–µ —Å–ª—É—á–∞–π–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# artifacts-service
BOT_API_KEY=long-random-string-for-bot
JWT_SECRET=another-random-string-for-jwt

# bot
ARTIFACTS_API_KEY=long-random-string-for-bot
DATABASE_URL=postgresql://user:pass@localhost/learnflow
```

## –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `auth_codes` –≤ PostgreSQL
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/web_auth` –≤ Telegram –±–æ—Ç–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å middleware –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ artifacts-service (API –∫–ª—é—á –¥–ª—è –±–æ—Ç–∞, JWT –¥–ª—è web-ui)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `thread_id == user_id` –≤–æ –≤—Å–µ—Ö endpoints
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å endpoint `/users/{user_id}/sessions/recent` –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ user_id

### –§–∞–∑–∞ 2: Web-UI –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint `/auth/verify` –≤ artifacts-service
- [ ] –î–æ–±–∞–≤–∏—Ç—å JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏ –ø—Ä–æ–≤–µ—Ä–∫—É
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ API –≤—ã–∑–æ–≤—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–º–µ–µ—Ç **–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –≤ multi-tenancy**, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–µ –Ω–µ–ø—Ä–∏–≥–æ–¥–Ω–æ–π –¥–ª—è production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏. –•–æ—Ç—è –æ—Å–Ω–æ–≤–Ω–æ–π –¥–≤–∏–∂–æ–∫ workflow (LangGraph) –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã, artifacts service –∏ web-ui –Ω–µ –∏–º–µ—é—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞, —Ä–∞—Å–∫—Ä—ã–≤–∞—è –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ª—é–±–æ–º—É, –∫—Ç–æ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å—É.

**–°–∞–º–∞—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ —Å–æ–∑–¥–∞–µ—Ç **–ª–æ–∂–Ω–æ–µ –æ—â—É—â–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**. –•–æ—Ç—è –±–æ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç user_id –∫–∞–∫ thread_id, –±–∞–∑–æ–≤—ã–π API artifacts-service:
- –ù–ï –∏–º–µ–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ù–ï –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –Ω–∞–ø—Ä—è–º—É—é, –æ–±—Ö–æ–¥—è –±–æ—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Å—Å–∏–∏ –í–°–ï–• –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ user_id

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **–ª—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∑–Ω–∞—é—â–∏–π Telegram ID –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã**, –¥–µ–ª–∞—è –ø—Ä—è–º—ã–µ API –≤—ã–∑–æ–≤—ã –∫ artifacts-service.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—Ç—å—Å—è –≤ multi-user –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–∞–∫ –º–∏–Ω–∏–º—É–º –§–∞–∑—ã 1 –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –î–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ single-user —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø –∫ artifacts-service –∏ web-ui –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ç–∏.

## –≠–ª–µ–º–µ–Ω—Ç—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞

1. **Artifacts Service**: –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
2. **Web-UI**: –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ª—é–±—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥–∞–Ω–Ω—ã–º
3. **Export Service**: –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ in-memory –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

---

*–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 2025-08-29*  
*–°—Ç–∞—Ç—É—Å: –ö–†–ò–¢–ò–ß–ù–û - Multi-tenancy –Ω–µ –≥–æ—Ç–æ–≤–∞ –∫ production*